#summary Performance benchmarks
#labels Featured

mpmath is written with the goal of providing the fastest implementation of arbitrary-precision floating-point arithmetic possible in pure Python. This page compares the performance of mpmath with that of the `decimal` module in Python's standard library.

==Explanation of the benchmark==

These tables were generated using the `benchmark.py` script in the mpmath `tests` directory, running on an Athlon 3700+. The script measures the number of operations that can be carried out per second at the given precision with x and y being random full-precision numbers between 0 and 32.

"Decimal" means that the `decimal.Decimal` class is used, "mpf" means that the `mpmath.mpf` class is used, and "raw mpf" means that the operations are performed using the raw arithmetic functions in `mpmath.lib` (this avoids the overhead of creating object instances). Numbers in parentheses indicate the speedup compared to Decimals.

The decimal library does not implement transcendental functions, but there are user-made libraries that can be used for comparison. The Python Package Index contains at least three libraries: [http://pypi.python.org/pypi/dmath/0.9 dmath], [http://pypi.python.org/pypi/AJDecimalMathAdditions/0.1.0 AJDecimalMathAdditions], and  [http://pypi.python.org/pypi/decimalfuncs/1.4 decimalfuncs]. They all have roughly similar performance, but dmath seems to be slightly faster overall and was therefore used for this benchmark.

The three rightmost columns list the same benchmark but with  [http://psyco.sourceforge.net/ psyco] enabled (with `psyco.full()`).

==Summary==
  * mpmath is roughly 10x faster than the `decimal` module at 10-100 digit precision and 100x faster at 100-1000 digit precision.
  * Using the functional interface in mpmath.lib further improves performance by 2x for some operations.
  * Transcendental functions are an additional order of magnitude faster than arithmetic. The greatest particular speedup over Decimal in the entire benchmark occurs for computing natural logarithms, which is 8000x faster at 300-digit precision (the test was not run at 1000-digit precision as finishing a single logarithm would take too long in dmath)
  * psyco speeds up both decimal and mpmath by about 50-100%
  * The only operation that is slower in mpmath is (not surprisingly) string conversion

==The results==

*Convert to integer (int(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 81000 || 290000 (3.6x) || 470000 (5.8x) || 80000 || 440000 (5.5x) || 1700000 (21.0x) ||
|| 30 || 51000 || 290000 (5.7x) || 480000 (9.3x) || 54000 || 490000 (9.0x) || 1980000 (36.6x) ||
|| 100 || 18000 || 290000 (15.6x) || 470000 (24.9x) || 18000 || 490000 (26.0x) || 1980000 (105.4x) ||
|| 300 || 6700 || 290000 (44.0x) || 470000 (71.0x) || 6500 || 470000 (73.4x) || 1980000 (305.8x) ||
|| 1000 || 2000 || 290000 (147.2x) || 470000 (237.6x) || 1900 || 490000 (249.0x) || 1880000 (943.6x) ||

*Convert to string (str(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 70000 || 33000 (0.5x) || 34000 (0.5x) || 84000 || 52000 (0.6x) || 55000 (0.7x) ||
|| 30 || 46000 || 30000 (0.6x) || 29000 (0.6x) || 51000 || 44000 (0.9x) || 45000 (0.9x) ||
|| 100 || 18000 || 13000 (0.7x) || 13000 (0.7x) || 18000 || 15000 (0.9x) || 15000 (0.9x) ||
|| 300 || 6500 || 1900 (0.3x) || 1900 (0.3x) || 6400 || 2300 (0.4x) || 2400 (0.4x) ||
|| 1000 || 1700 || 340 (0.2x) || 350 (0.2x) || 2000 || 360 (0.2x) || 360 (0.2x) ||

*Convert to float (float(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 53000 || 300000 (5.6x) || 550000 (10.2x) || 56000 || 320000 (5.9x) || 910000 (16.4x) ||
|| 30 || 37000 || 300000 (8.3x) || 510000 (13.9x) || 39000 || 350000 (8.8x) || 890000 (22.4x) ||
|| 100 || 16000 || 300000 (18.8x) || 510000 (31.7x) || 16000 || 350000 (21.8x) || 910000 (56.5x) ||
|| 300 || 6100 || 300000 (49.5x) || 510000 (82.7x) || 5300 || 350000 (65.5x) || 910000 (171.2x) ||
|| 1000 || 1800 || 100000 (57.9x) || 130000 (71.1x) || 1800 || 120000 (65.4x) || 170000 (92.9x) ||

*Equality (x==y)*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 36000 || 620000 (17.0x) || 1370000 (37.3x) || 65000 || 610000 (9.4x) || 3970000 (60.3x) ||
|| 30 || 29000 || 620000 (21.1x) || 1430000 (48.0x) || 49000 || 620000 (12.7x) || 3570000 (72.3x) ||
|| 100 || 14000 || 610000 (42.8x) || 1370000 (95.6x) || 20000 || 630000 (31.1x) || 3970000 (193.6x) ||
|| 300 || 4900 || 620000 (125.7x) || 1430000 (286.6x) || 6200 || 620000 (100.1x) || 3570000 (570.8x) ||
|| 1000 || 960 || 610000 (639.5x) || 1370000 (1426.7x) || 1000 || 620000 (585.2x) || 3570000 (3335.6x) ||

*Comparison (x<y)*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 38000 || 260000 (7.0x) || 450000 (11.9x) || 66000 || 400000 (6.0x) || 1230000 (18.6x) ||
|| 30 || 30000 || 270000 (8.9x) || 450000 (15.1x) || 49000 || 430000 (8.7x) || 1320000 (26.6x) ||
|| 100 || 14000 || 260000 (18.4x) || 450000 (30.9x) || 20000 || 420000 (20.7x) || 1320000 (64.3x) ||
|| 300 || 5000 || 270000 (54.0x) || 450000 (90.2x) || 6200 || 430000 (68.7x) || 1320000 (211.2x) ||
|| 1000 || 960 || 260000 (277.9x) || 450000 (467.8x) || 1000 || 420000 (393.0x) || 1270000 (1193.2x) ||

*Addition (x+y)*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 10000 || 81000 (7.6x) || 110000 (10.3x) || 19000 || 150000 (8.1x) || 310000 (16.0x) ||
|| 30 || 8100 || 71000 (8.8x) || 93000 (11.5x) || 13000 || 120000 (9.0x) || 230000 (16.6x) ||
|| 100 || 3100 || 72000 (23.2x) || 95000 (30.6x) || 5000 || 120000 (24.6x) || 230000 (46.7x) ||
|| 300 || 1000 || 66000 (65.3x) || 85000 (83.7x) || 1400 || 100000 (75.3x) || 180000 (129.6x) ||
|| 1000 || 180 || 52000 (278.1x) || 63000 (340.6x) || 220 || 74000 (327.7x) || 100000 (463.0x) ||

*Subtraction (x-y)*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 10000 || 81000 (7.5x) || 87000 (8.1x) || 20000 || 150000 (7.7x) || 240000 (11.8x) ||
|| 30 || 8100 || 71000 (8.8x) || 81000 (10.0x) || 14000 || 120000 (8.8x) || 200000 (13.9x) ||
|| 100 || 3100 || 71000 (23.1x) || 76000 (24.6x) || 5100 || 120000 (25.2x) || 180000 (35.6x) ||
|| 300 || 1000 || 66000 (65.1x) || 72000 (71.2x) || 1400 || 110000 (77.0x) || 150000 (108.0x) ||
|| 1000 || 180 || 52000 (277.5x) || 57000 (305.0x) || 220 || 75000 (330.0x) || 95000 (416.9x) ||

*Multiplication (x*y)*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 8200 || 81000 (10.0x) || 110000 (13.4x) || 15000 || 140000 (9.5x) || 260000 (16.9x) ||
|| 30 || 5300 || 78000 (14.7x) || 100000 (20.0x) || 10000 || 130000 (12.9x) || 230000 (22.9x) ||
|| 100 || 1800 || 65000 (35.0x) || 84000 (44.9x) || 3300 || 100000 (31.0x) || 150000 (46.8x) ||
|| 300 || 550 || 34000 (62.6x) || 39000 (71.7x) || 890 || 43000 (48.6x) || 50000 (56.8x) ||
|| 1000 || 100 || 7700 (71.8x) || 7900 (73.9x) || 140 || 8000 (57.0x) || 8200 (58.6x) ||

*Division (x/y)*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 4200 || 67000 (15.9x) || 86000 (20.6x) || 10000 || 120000 (12.3x) || 200000 (20.2x) ||
|| 30 || 2300 || 58000 (25.1x) || 73000 (31.6x) || 5900 || 99000 (16.8x) || 150000 (25.8x) ||
|| 100 || 760 || 46000 (60.5x) || 55000 (72.1x) || 1800 || 66000 (35.8x) || 87000 (47.1x) ||
|| 300 || 210 || 17000 (79.6x) || 18000 (85.0x) || 460 || 19000 (42.1x) || 20000 (45.6x) ||
|| 1000 || 40 || 2400 (60.6x) || 2400 (61.2x) || 60 || 2400 (40.8x) || 2400 (41.3x) ||

*Square root (x^0.5)*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 440 || 40000 (92.9x) || 49000 (112.0x) || 880 || 99000 (112.2x) || 110000 (134.2x) ||
|| 30 || 290 || 33000 (116.6x) || 39000 (135.7x) || 590 || 79000 (135.1x) || 89000 (152.0x) ||
|| 100 || 100 || 26000 (250.7x) || 29000 (283.1x) || 200 || 52000 (250.3x) || 56000 (270.4x) ||
|| 300 || 30 || 13000 (429.9x) || 13000 (456.7x) || 53 || 18000 (347.9x) || 19000 (359.0x) ||
|| 1000 || 6 || 2800 (430.8x) || 2900 (443.1x) || 9 || 3100 (338.3x) || 3100 (340.3x) ||

*Integer power (x^42)*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 860 || 12000 (14.7x) || 13000 (15.4x) || 1600 || 32000 (19.4x) || 39000 (23.2x) ||
|| 30 || 600 || 11000 (18.9x) || 11000 (19.7x) || 1100 || 25000 (21.9x) || 29000 (25.2x) ||
|| 100 || 230 || 10000 (42.6x) || 10000 (44.2x) || 430 || 20000 (47.0x) || 22000 (52.4x) ||
|| 300 || 74 || 6000 (80.1x) || 6100 (82.1x) || 120 || 8500 (70.7x) || 8900 (73.9x) ||
|| 1000 || 14 || 1500 (106.1x) || 1500 (107.1x) || 19 || 1700 (87.8x) || 1700 (88.6x) ||

*Exponential function (exp(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 95 || 29000 (313.3x) || 33000 (354.7x) || 190 || 43000 (225.9x) || 60000 (314.0x) ||
|| 30 || 38 || 24000 (629.2x) || 26000 (675.1x) || 78 || 36000 (472.0x) || 47000 (602.4x) ||
|| 100 || 5 || 9700 (1696.8x) || 10000 (1774.4x) || 11 || 12000 (1095.2x) || 13000 (1188.5x) ||
|| 300 || 0 || 1600 (2279.0x) || 1600 (2290.7x) || 1 || 1700 (1336.6x) || 1700 (1353.1x) ||

*Natural logarithm (log(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 81 || 13000 (160.1x) || 14000 (176.8x) || 160 || 21000 (127.7x) || 24000 (147.1x) ||
|| 30 || 19 || 9200 (484.9x) || 9800 (519.8x) || 40 || 16000 (399.3x) || 17000 (441.0x) ||
|| 100 || 1 || 4500 (3104.1x) || 4700 (3210.9x) || 2 || 6600 (2219.2x) || 6800 (2313.2x) ||
|| 300 || 0 || 1000 (8165.9x) || 1000 (8230.8x) || 0 || 1100 (5138.3x) || 1100 (5186.3x) ||

*Sine (sin(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 130 || 16000 (121.5x) || 17000 (128.8x) || 280 || 26000 (92.5x) || 32000 (114.6x) ||
|| 30 || 58 || 13000 (231.8x) || 14000 (243.8x) || 120 || 22000 (181.2x) || 25000 (209.6x) ||
|| 100 || 9 || 5800 (637.3x) || 5900 (654.3x) || 18 || 7900 (437.7x) || 8400 (463.4x) ||
|| 300 || 1 || 970 (818.9x) || 980 (821.2x) || 2 || 1000 (508.0x) || 1000 (513.8x) ||

*Tangent (tan(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 69 || 14000 (213.2x) || 15000 (222.4x) || 130 || 27000 (197.3x) || 29000 (208.5x) ||
|| 30 || 29 || 11000 (380.2x) || 11000 (393.8x) || 61 || 20000 (333.2x) || 21000 (345.0x) ||
|| 100 || 4 || 5200 (1154.1x) || 5300 (1171.3x) || 9 || 7500 (827.6x) || 7500 (836.4x) ||
|| 300 || 0 || 920 (1563.4x) || 920 (1565.0x) || 1 || 1000 (965.8x) || 1000 (971.0x) ||

*Inverse tangent(atan(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 30 || 10000 (336.3x) || 10000 (351.4x) || 62 || 18000 (290.6x) || 19000 (306.1x) ||
|| 30 || 11 || 6100 (549.0x) || 6200 (556.6x) || 23 || 10000 (439.5x) || 10000 (447.2x) ||
|| 100 || 1 || 1400 (1034.2x) || 1400 (1033.8x) || 2 || 1800 (667.6x) || 1800 (678.0x) ||
|| 300 || 0 || 150 (1012.1x) || 150 (1016.3x) || 0 || 160 (622.5x) || 160 (623.6x) ||

*Hyperbolic cosine (cosh(x))*
|| *digits* || *Decimal* || *mpf* ||  *raw mpf* || *Decimal+psyco* || *mpf+psyco* || *raw mpf+psyco* ||
|| 15 || 140 || 14000 (98.7x) || 15000 (105.2x) || 290 || 27000 (91.5x) || 32000 (110.0x) ||
|| 30 || 63 || 12000 (199.6x) || 13000 (210.0x) || 120 || 23000 (178.1x) || 27000 (212.4x) ||
|| 100 || 9 || 7000 (744.2x) || 7200 (766.9x) || 18 || 9800 (526.5x) || 10000 (567.1x) ||
|| 300 || 1 || 1400 (1200.0x) || 1400 (1206.4x) || 2 || 1500 (738.9x) || 1500 (748.0x) ||